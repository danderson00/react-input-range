{"version":3,"sources":["../../../src/js/input-range/input-range.jsx"],"names":["valueTransformer","InputRange","ariaLabelledby","string","ariaControls","classNames","objectOf","disabled","bool","formatLabel","func","maxValue","minValue","name","onChangeStart","onChange","isRequired","onChangeComplete","step","number","value","props","startValue","node","trackNode","dragStartPosition","dragStartPositions","removeDocumentMouseUpListener","removeDocumentTouchEndListener","inputRange","disabledInputRange","getClientRect","position","values","getValueFromProps","isMultiValue","positions","getPositionsFromValues","getTrackClientRect","distanceToMin","min","distanceToMax","max","currentValues","isWithinRange","hasStepDifference","key","updatePositions","startPositions","start","end","variance","x","y","getValueFromPosition","transformedValues","getStepValueFromValue","updateValues","shouldUpdate","updateValue","ownerDocument","addEventListener","handleMouseUp","handleTouchEnd","removeEventListener","event","getPositionFromEvent","requestAnimationFrame","updatePosition","keyCode","preventDefault","decrementValue","incrementValue","currentPositions","getKeyByPosition","startPosition","Object","assign","updatePositionsRelative","handleInteractionStart","handleInteractionEnd","addDocumentMouseUpListener","addDocumentTouchEndListener","percentages","getPercentagesFromValues","getKeys","map","percentage","slider","handleSliderDrag","handleSliderKeyDown","componentClassName","getComponentClassName","handleKeyDown","handleKeyUp","handleMouseDown","handleTouchStart","handleTrackMouseDown","handleTrackMouseUp","handleTrackDrag","renderSliders","renderHiddenInputs","Component"],"mappings":"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","file":"input-range.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'autobind-decorator';\nimport * as valueTransformer from './value-transformer';\nimport DEFAULT_CLASS_NAMES from './default-class-names';\nimport Label from './label';\nimport rangePropType from './range-prop-type';\nimport valuePropType from './value-prop-type';\nimport Slider from './slider';\nimport Track from './track';\nimport { captialize, distanceTo, isDefined, isObject, length } from '../utils';\nimport { DOWN_ARROW, LEFT_ARROW, RIGHT_ARROW, UP_ARROW } from './key-codes';\n\n/**\n * A React component that allows users to input numeric values within a range\n * by dragging its sliders.\n */\nexport default class InputRange extends React.Component {\n  /**\n   * @ignore\n   * @override\n   * @return {Object}\n   */\n  static get propTypes() {\n    return {\n      ariaLabelledby: PropTypes.string,\n      ariaControls: PropTypes.string,\n      classNames: PropTypes.objectOf(PropTypes.string),\n      disabled: PropTypes.bool,\n      formatLabel: PropTypes.func,\n      maxValue: rangePropType,\n      minValue: rangePropType,\n      name: PropTypes.string,\n      onChangeStart: PropTypes.func,\n      onChange: PropTypes.func.isRequired,\n      onChangeComplete: PropTypes.func,\n      step: PropTypes.number,\n      value: valuePropType,\n    };\n  }\n\n  /**\n   * @ignore\n   * @override\n   * @return {Object}\n   */\n  static get defaultProps() {\n    return {\n      classNames: DEFAULT_CLASS_NAMES,\n      disabled: false,\n      maxValue: 10,\n      minValue: 0,\n      step: 1,\n    };\n  }\n\n  /**\n   * @param {Object} props\n   * @param {string} [props.ariaLabelledby]\n   * @param {string} [props.ariaControls]\n   * @param {InputRangeClassNames} [props.classNames]\n   * @param {boolean} [props.disabled = false]\n   * @param {Function} [props.formatLabel]\n   * @param {number|Range} [props.maxValue = 10]\n   * @param {number|Range} [props.minValue = 0]\n   * @param {string} [props.name]\n   * @param {string} props.onChange\n   * @param {Function} [props.onChangeComplete]\n   * @param {Function} [props.onChangeStart]\n   * @param {number} [props.step = 1]\n   * @param {number|Range} props.value\n   */\n  constructor(props) {\n    super(props);\n\n    /**\n     * @private\n     * @type {?number}\n     */\n    this.startValue = null;\n\n    /**\n     * @private\n     * @type {?Component}\n     */\n    this.node = null;\n\n    /**\n     * @private\n     * @type {?Component}\n     */\n    this.trackNode = null;\n\n    /**\n     * @private\n     * @type {?Point}\n     */\n    this.dragStartPosition = null;\n\n    /**\n     * @private\n     * @type {?Range}\n     */\n    this.dragStartPositions = null;\n  }\n\n  /**\n   * @ignore\n   * @override\n   * @return {void}\n   */\n  componentWillUnmount() {\n    this.removeDocumentMouseUpListener();\n    this.removeDocumentTouchEndListener();\n  }\n\n  /**\n   * Return the CSS class name of the component\n   * @private\n   * @return {string}\n   */\n  getComponentClassName() {\n    if (!this.props.disabled) {\n      return this.props.classNames.inputRange;\n    }\n\n    return this.props.classNames.disabledInputRange;\n  }\n\n  /**\n   * Return the bounding rect of the track\n   * @private\n   * @return {ClientRect}\n   */\n  getTrackClientRect() {\n    return this.trackNode.getClientRect();\n  }\n\n  /**\n   * Return the slider key closest to a point\n   * @private\n   * @param {Point} position\n   * @return {string}\n   */\n  getKeyByPosition(position) {\n    const values = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n    const positions = valueTransformer.getPositionsFromValues(values, this.props.minValue, this.props.maxValue, this.getTrackClientRect());\n\n    if (this.isMultiValue()) {\n      const distanceToMin = distanceTo(position, positions.min);\n      const distanceToMax = distanceTo(position, positions.max);\n\n      if (distanceToMin < distanceToMax) {\n        return 'min';\n      }\n    }\n\n    return 'max';\n  }\n\n  /**\n   * Return all the slider keys\n   * @private\n   * @return {string[]}\n   */\n  getKeys() {\n    if (this.isMultiValue()) {\n      return ['min', 'max'];\n    }\n\n    return ['max'];\n  }\n\n  /**\n   * Return true if the difference between the new and the current value is\n   * greater or equal to the step amount of the component\n   * @private\n   * @param {Range} values\n   * @return {boolean}\n   */\n  hasStepDifference(values) {\n    const currentValues = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n\n    return length(values.min, currentValues.min) >= this.props.step ||\n           length(values.max, currentValues.max) >= this.props.step;\n  }\n\n  /**\n   * Return true if the component accepts a min and max value\n   * @private\n   * @return {boolean}\n   */\n  isMultiValue() {\n    return isObject(this.props.value);\n  }\n\n  /**\n   * Return true if the range is within the max and min value of the component\n   * @private\n   * @param {Range} values\n   * @return {boolean}\n   */\n  isWithinRange(values) {\n    if (this.isMultiValue()) {\n      return values.min >= this.props.minValue &&\n             values.max <= this.props.maxValue &&\n             values.min < values.max;\n    }\n\n    return values.max >= this.props.minValue && values.max <= this.props.maxValue;\n  }\n\n  /**\n   * Return true if the new value should trigger a render\n   * @private\n   * @param {Range} values\n   * @return {boolean}\n   */\n  shouldUpdate(values) {\n    return this.isWithinRange(values) && this.hasStepDifference(values);\n  }\n\n  /**\n   * Update the position of a slider\n   * @private\n   * @param {string} key\n   * @param {Point} position\n   * @return {void}\n   */\n  updatePosition(key, position) {\n    const values = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n    const positions = valueTransformer.getPositionsFromValues(values, this.props.minValue, this.props.maxValue, this.getTrackClientRect());\n\n    positions[key] = position;\n\n    this.updatePositions(positions);\n  }\n\n  /**\n   * Update the position of a slider\n   * @private\n   * @param {string} key\n   * @param {Point} position\n   * @return {void}\n   */\n  updatePositionsRelative(startPositions, start, end) {\n    const variance = { x: end.x - start.x, y: end.y - start.y };\n\n    const positions = {\n      min: { x: startPositions.min.x + variance.x, y: startPositions.min.y + variance.y },\n      max: { x: startPositions.max.x + variance.x, y: startPositions.max.y + variance.y },\n    };\n\n    this.updatePositions(positions);\n  }\n\n  /**\n   * Update the positions of multiple sliders\n   * @private\n   * @param {Object} positions\n   * @param {Point} positions.min\n   * @param {Point} positions.max\n   * @return {void}\n   */\n  updatePositions(positions) {\n    const values = {\n      min: valueTransformer.getValueFromPosition(positions.min, this.props.minValue, this.props.maxValue, this.getTrackClientRect()),\n      max: valueTransformer.getValueFromPosition(positions.max, this.props.minValue, this.props.maxValue, this.getTrackClientRect()),\n    };\n\n    const transformedValues = {\n      min: valueTransformer.getStepValueFromValue(values.min, this.props.step),\n      max: valueTransformer.getStepValueFromValue(values.max, this.props.step),\n    };\n\n    this.updateValues(transformedValues);\n  }\n\n  /**\n   * Update the value of a slider\n   * @private\n   * @param {string} key\n   * @param {number} value\n   * @return {void}\n   */\n  updateValue(key, value) {\n    const values = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n\n    values[key] = value;\n\n    this.updateValues(values);\n  }\n\n  /**\n   * Update the values of multiple sliders\n   * @private\n   * @param {Range|number} values\n   * @return {void}\n   */\n  updateValues(values) {\n    if (!this.shouldUpdate(values)) {\n      return;\n    }\n\n    this.props.onChange(this.isMultiValue() ? values : values.max);\n  }\n\n  /**\n   * Increment the value of a slider by key name\n   * @private\n   * @param {string} key\n   * @return {void}\n   */\n  incrementValue(key) {\n    const values = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n    const value = values[key] + this.props.step;\n\n    this.updateValue(key, value);\n  }\n\n  /**\n   * Decrement the value of a slider by key name\n   * @private\n   * @param {string} key\n   * @return {void}\n   */\n  decrementValue(key) {\n    const values = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n    const value = values[key] - this.props.step;\n\n    this.updateValue(key, value);\n  }\n\n  /**\n   * Listen to mouseup event\n   * @private\n   * @return {void}\n   */\n  addDocumentMouseUpListener() {\n    this.removeDocumentMouseUpListener();\n    this.node.ownerDocument.addEventListener('mouseup', this.handleMouseUp);\n  }\n\n  /**\n   * Listen to touchend event\n   * @private\n   * @return {void}\n   */\n  addDocumentTouchEndListener() {\n    this.removeDocumentTouchEndListener();\n    this.node.ownerDocument.addEventListener('touchend', this.handleTouchEnd);\n  }\n\n  /**\n   * Stop listening to mouseup event\n   * @private\n   * @return {void}\n   */\n  removeDocumentMouseUpListener() {\n    this.node.ownerDocument.removeEventListener('mouseup', this.handleMouseUp);\n  }\n\n  /**\n   * Stop listening to touchend event\n   * @private\n   * @return {void}\n   */\n  removeDocumentTouchEndListener() {\n    this.node.ownerDocument.removeEventListener('touchend', this.handleTouchEnd);\n  }\n\n  /**\n   * Handle any \"mousemove\" event received by the slider\n   * @private\n   * @param {SyntheticEvent} event\n   * @param {string} key\n   * @return {void}\n   */\n  @autobind\n  handleSliderDrag(event, key) {\n    if (this.props.disabled) {\n      return;\n    }\n\n    const position = valueTransformer.getPositionFromEvent(event, this.getTrackClientRect());\n\n    requestAnimationFrame(() => this.updatePosition(key, position));\n  }\n\n  /**\n   * Handle any \"keydown\" event received by the slider\n   * @private\n   * @param {SyntheticEvent} event\n   * @param {string} key\n   * @return {void}\n   */\n  @autobind\n  handleSliderKeyDown(event, key) {\n    if (this.props.disabled) {\n      return;\n    }\n\n    switch (event.keyCode) {\n    case LEFT_ARROW:\n    case DOWN_ARROW:\n      event.preventDefault();\n      this.decrementValue(key);\n      break;\n\n    case RIGHT_ARROW:\n    case UP_ARROW:\n      event.preventDefault();\n      this.incrementValue(key);\n      break;\n\n    default:\n      break;\n    }\n  }\n\n  /**\n   * Handle any \"mousedown\" event received by the track\n   * @private\n   * @param {SyntheticEvent} event\n   * @param {Point} position\n   * @return {void}\n   */\n  @autobind\n  handleTrackMouseDown(event, position) {\n    if (this.props.disabled) {\n      return;\n    }\n\n    event.preventDefault();\n\n    const currentValues = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n    const currentPositions = valueTransformer.getPositionsFromValues(currentValues, this.props.minValue, this.props.maxValue, this.getTrackClientRect());\n\n    if (this.isMultiValue() && position.x > currentPositions.min.x && position.x < currentPositions.max.x) {\n      this.dragStartPositions = currentPositions;\n      this.dragStartPosition = position;\n    } else {\n      this.updatePosition(this.getKeyByPosition(position), position);\n    }\n  }\n\n  /**\n   * Handle any \"mouseup\" event received by the track\n   * @private\n   * @param {SyntheticEvent} event\n   * @param {Point} position\n   * @return {void}\n   */\n  @autobind\n  handleTrackMouseUp(event) {\n    if (this.props.disabled) {\n      return;\n    }\n\n    event.preventDefault();\n\n    this.dragStartPositions = null;\n    this.dragStartPosition = null;\n  }\n  /**\n   * Handle any \"mousemove\" event received by the track\n   * @private\n   * @param {SyntheticEvent} event\n   * @param {string} key\n   * @return {void}\n   */\n  @autobind\n  handleTrackDrag(event, position) {\n    if (this.props.disabled || this.dragStartPosition === null || this.dragStartPositions === null) {\n      return;\n    }\n\n    const startPosition = Object.assign({}, this.dragStartPosition);\n    const startPositions = Object.assign({}, this.dragStartPositions);\n\n    requestAnimationFrame(() => this.updatePositionsRelative(startPositions, startPosition, position));\n  }\n\n  /**\n   * Handle the start of any mouse/touch event\n   * @private\n   * @return {void}\n   */\n  @autobind\n  handleInteractionStart() {\n    if (this.props.onChangeStart) {\n      this.props.onChangeStart(this.props.value);\n    }\n\n    if (this.props.onChangeComplete && !isDefined(this.startValue)) {\n      this.startValue = this.props.value;\n    }\n  }\n\n  /**\n   * Handle the end of any mouse/touch event\n   * @private\n   * @return {void}\n   */\n  @autobind\n  handleInteractionEnd() {\n    if (!this.props.onChangeComplete || !isDefined(this.startValue)) {\n      return;\n    }\n\n    if (this.startValue !== this.props.value) {\n      this.props.onChangeComplete(this.props.value);\n    }\n\n    this.startValue = null;\n  }\n\n  /**\n   * Handle any \"keydown\" event received by the component\n   * @private\n   * @param {SyntheticEvent} event\n   * @return {void}\n   */\n  @autobind\n  handleKeyDown(event) {\n    this.handleInteractionStart(event);\n  }\n\n  /**\n   * Handle any \"keyup\" event received by the component\n   * @private\n   * @param {SyntheticEvent} event\n   * @return {void}\n   */\n  @autobind\n  handleKeyUp(event) {\n    this.handleInteractionEnd(event);\n  }\n\n  /**\n   * Handle any \"mousedown\" event received by the component\n   * @private\n   * @param {SyntheticEvent} event\n   * @return {void}\n   */\n  @autobind\n  handleMouseDown(event) {\n    this.handleInteractionStart(event);\n    this.addDocumentMouseUpListener();\n  }\n\n  /**\n   * Handle any \"mouseup\" event received by the component\n   * @private\n   * @param {SyntheticEvent} event\n   */\n  @autobind\n  handleMouseUp(event) {\n    this.handleInteractionEnd(event);\n    this.removeDocumentMouseUpListener();\n  }\n\n  /**\n   * Handle any \"touchstart\" event received by the component\n   * @private\n   * @param {SyntheticEvent} event\n   * @return {void}\n   */\n  @autobind\n  handleTouchStart(event) {\n    this.handleInteractionStart(event);\n    this.addDocumentTouchEndListener();\n  }\n\n  /**\n   * Handle any \"touchend\" event received by the component\n   * @private\n   * @param {SyntheticEvent} event\n   */\n  @autobind\n  handleTouchEnd(event) {\n    this.handleInteractionEnd(event);\n    this.removeDocumentTouchEndListener();\n  }\n\n  /**\n   * Return JSX of sliders\n   * @private\n   * @return {JSX.Element}\n   */\n  renderSliders() {\n    const values = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n    const percentages = valueTransformer.getPercentagesFromValues(values, this.props.minValue, this.props.maxValue);\n\n    return this.getKeys().map((key) => {\n      const value = values[key];\n      const percentage = percentages[key];\n\n      let { maxValue, minValue } = this.props;\n\n      if (key === 'min') {\n        maxValue = values.max;\n      } else {\n        minValue = values.min;\n      }\n\n      const slider = (\n        <Slider\n          ariaLabelledby={this.props.ariaLabelledby}\n          ariaControls={this.props.ariaControls}\n          classNames={this.props.classNames}\n          formatLabel={this.props.formatLabel}\n          key={key}\n          maxValue={maxValue}\n          minValue={minValue}\n          onSliderDrag={this.handleSliderDrag}\n          onSliderKeyDown={this.handleSliderKeyDown}\n          percentage={percentage}\n          type={key}\n          value={value} />\n      );\n\n      return slider;\n    });\n  }\n\n  /**\n   * Return JSX of hidden inputs\n   * @private\n   * @return {JSX.Element}\n   */\n  renderHiddenInputs() {\n    if (!this.props.name) {\n      return [];\n    }\n\n    const isMultiValue = this.isMultiValue();\n    const values = valueTransformer.getValueFromProps(this.props, isMultiValue);\n\n    return this.getKeys().map((key) => {\n      const value = values[key];\n      const name = isMultiValue ? `${this.props.name}${captialize(key)}` : this.props.name;\n\n      return (\n        <input key={key} type=\"hidden\" name={name} value={value} />\n      );\n    });\n  }\n\n  /**\n   * @ignore\n   * @override\n   * @return {JSX.Element}\n   */\n  render() {\n    const componentClassName = this.getComponentClassName();\n    const values = valueTransformer.getValueFromProps(this.props, this.isMultiValue());\n    const percentages = valueTransformer.getPercentagesFromValues(values, this.props.minValue, this.props.maxValue);\n\n    return (\n      <div\n        aria-disabled={this.props.disabled}\n        ref={(node) => { this.node = node; }}\n        className={componentClassName}\n        onKeyDown={this.handleKeyDown}\n        onKeyUp={this.handleKeyUp}\n        onMouseDown={this.handleMouseDown}\n        onTouchStart={this.handleTouchStart}>\n        <Label\n          classNames={this.props.classNames}\n          formatLabel={this.props.formatLabel}\n          type=\"min\">\n          {this.props.minValue}\n        </Label>\n\n        <Track\n          classNames={this.props.classNames}\n          ref={(trackNode) => { this.trackNode = trackNode; }}\n          percentages={percentages}\n          onTrackMouseDown={this.handleTrackMouseDown}\n          onTrackMouseUp={this.handleTrackMouseUp}\n          onTrackDrag={this.handleTrackDrag}>\n\n          {this.renderSliders()}\n        </Track>\n\n        <Label\n          classNames={this.props.classNames}\n          formatLabel={this.props.formatLabel}\n          type=\"max\">\n          {this.props.maxValue}\n        </Label>\n\n        {this.renderHiddenInputs()}\n      </div>\n    );\n  }\n}\n"]}