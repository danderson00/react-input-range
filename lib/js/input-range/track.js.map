{"version":3,"sources":["../../../src/js/input-range/track.jsx"],"names":["Track","children","node","isRequired","classNames","objectOf","string","onTrackMouseDown","func","onTrackMouseUp","onTrackDrag","percentages","number","props","getBoundingClientRect","width","max","min","left","event","clientX","touches","trackClientRect","getClientRect","x","y","removeDocumentMouseMoveListener","ownerDocument","addEventListener","handleMouseMove","removeDocumentMouseUpListener","handleMouseUp","removeDocumentTouchMoveListener","handleTouchMove","removeDocumentTouchEndListener","handleTouchEnd","removeEventListener","getPositionFromEvent","addDocumentMouseMoveListener","addDocumentMouseUpListener","preventDefault","handleMouseDown","activeTrackStyle","getActiveTrackStyle","selectableTrack","handleTouchStart","track","activeTrack","Component"],"mappings":"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","file":"track.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport autobind from 'autobind-decorator';\n\n/**\n * @ignore\n */\nexport default class Track extends React.Component {\n  /**\n   * @override\n   * @return {Object}\n   * @property {Function} children\n   * @property {Function} classNames\n   * @property {Function} onTrackMouseDown\n   * @property {Function} onTrackDrag\n   * @property {Function} percentages\n   */\n  static get propTypes() {\n    return {\n      children: PropTypes.node.isRequired,\n      classNames: PropTypes.objectOf(PropTypes.string).isRequired,\n      onTrackMouseDown: PropTypes.func.isRequired,\n      onTrackMouseUp: PropTypes.func,\n      onTrackDrag: PropTypes.func,\n      percentages: PropTypes.objectOf(PropTypes.number).isRequired,\n    };\n  }\n\n  /**\n   * @param {Object} props\n   * @param {InputRangeClassNames} props.classNames\n   * @param {Function} props.onTrackMouseDown\n   * @param {Function} props.onTrackDrag\n   * @param {number} props.percentages\n   */\n  constructor(props) {\n    super(props);\n\n    /**\n     * @private\n     * @type {?Component}\n     */\n    this.node = null;\n  }\n\n  /**\n   * @private\n   * @return {ClientRect}\n   */\n  getClientRect() {\n    return this.node.getBoundingClientRect();\n  }\n\n  /**\n   * @private\n   * @return {Object} CSS styles\n   */\n  getActiveTrackStyle() {\n    const width = `${(this.props.percentages.max - this.props.percentages.min) * 100}%`;\n    const left = `${this.props.percentages.min * 100}%`;\n\n    return { left, width };\n  }\n\n  /**\n   * @private\n   * @return {Object} Position\n   */\n  getPositionFromEvent(event) {\n    const clientX = event.touches ? event.touches[0].clientX : event.clientX;\n    const trackClientRect = this.getClientRect();\n    return {\n      x: clientX - trackClientRect.left,\n      y: 0,\n    };\n  }\n\n  /**\n   * Listen to mousemove event\n   * @private\n   * @return {void}\n   */\n  addDocumentMouseMoveListener() {\n    this.removeDocumentMouseMoveListener();\n    this.node.ownerDocument.addEventListener('mousemove', this.handleMouseMove);\n  }\n\n  /**\n   * Listen to mouseup event\n   * @private\n   * @return {void}\n   */\n  addDocumentMouseUpListener() {\n    this.removeDocumentMouseUpListener();\n    this.node.ownerDocument.addEventListener('mouseup', this.handleMouseUp);\n  }\n\n  /**\n   * Listen to touchmove event\n   * @private\n   * @return {void}\n   */\n  addDocumentTouchMoveListener() {\n    this.removeDocumentTouchMoveListener();\n    this.node.ownerDocument.addEventListener('touchmove', this.handleTouchMove);\n  }\n\n  /**\n   * Listen to touchend event\n   * @private\n   * @return {void}\n   */\n  addDocumentTouchEndListener() {\n    this.removeDocumentTouchEndListener();\n    this.node.ownerDocument.addEventListener('touchend', this.handleTouchEnd);\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  removeDocumentMouseMoveListener() {\n    this.node.ownerDocument.removeEventListener('mousemove', this.handleMouseMove);\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  removeDocumentMouseUpListener() {\n    this.node.ownerDocument.removeEventListener('mouseup', this.handleMouseUp);\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  removeDocumentTouchMoveListener() {\n    this.node.ownerDocument.removeEventListener('touchmove', this.handleTouchMove);\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  removeDocumentTouchEndListener() {\n    this.node.ownerDocument.removeEventListener('touchend', this.handleTouchEnd);\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  @autobind\n  handleMouseDown(event) {\n    this.props.onTrackMouseDown(event, this.getPositionFromEvent(event));\n    this.addDocumentMouseMoveListener();\n    this.addDocumentMouseUpListener();\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  @autobind\n  handleMouseUp() {\n    this.props.onTrackMouseUp(event, this.getPositionFromEvent(event));\n    this.removeDocumentMouseMoveListener();\n    this.removeDocumentMouseUpListener();\n  }\n\n  /**\n   * @private\n   * @param {SyntheticEvent} event\n   * @return {void}\n   */\n  @autobind\n  handleMouseMove(event) {\n    this.props.onTrackDrag(event, this.getPositionFromEvent(event));\n  }\n\n  /**\n   * @private\n   * @param {SyntheticEvent} event\n   * @return {void}\n   */\n  @autobind\n  handleTouchStart(event) {\n    event.preventDefault();\n    this.handleMouseDown(event);\n  }\n\n  /**\n   * @private\n   * @return {void}\n   */\n  @autobind\n  handleTouchEnd() {\n    event.preventDefault();\n    this.handleMouseUp();\n  }\n\n  /**\n   * @private\n   * @param {SyntheticEvent} event\n   * @return {void}\n   */\n  @autobind\n  handleTouchMove(event) {\n    event.preventDefault();\n    this.handleMouseMove(event);\n  }\n\n  /**\n   * @override\n   * @return {JSX.Element}\n   */\n  render() {\n    const activeTrackStyle = this.getActiveTrackStyle();\n\n    return (\n      <div\n        className={this.props.classNames.selectableTrack}\n        onMouseDown={this.handleMouseDown}\n        onMouseUp={this.handleMouseUp}\n        onTouchStart={this.handleTouchStart}\n        onTouchEnd={this.handleTouchEnd}>\n        <div\n          className={this.props.classNames.track}\n          ref={(node) => { this.node = node; }}>\n          <div\n            style={activeTrackStyle}\n            className={this.props.classNames.activeTrack} />\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\n"]}